#include <conio.h>
#include <iostream.h>
#include <math.h>

float x[4],y[4],k[3], fk[3];
float x2[4],x3[4],x4[4],x5[4],x6[4],xy[4],x2y[4],x3y[4];
float kx,ky,kx2,kx3,kx4,kx5,kx6,kxy,kx2y,kx3y;
float matriz11,matriz12,matriz13,matriz14,matriz15,matriz21,matriz22,matriz23,matriz24,matriz25;
float matriz31,matriz32,matriz33,matriz34,matriz35,matriz41,matriz42,matriz43,matriz44,matriz45;
int a,b;

 void main()
 {
	  kx=0;ky=0;
	  kx2=0;kx3=0;
	  kx4=0;kx5=0;
	  kx6=0;kxy=0;
	  kx2y=0;kx3y=0;
	  clrscr();
	  gotoxy(13, 8); cout<<" DE EL EJE DE LAS X: ";
	  gotoxy(18,10); cin>>x[1];
	  gotoxy(18,12); cin>>x[2];
	  gotoxy(18,14); cin>>x[3];
	  gotoxy(18,16); cin>>x[4];
	  gotoxy(45,8); cout<<"DE EL EJE DE LAS Y: ";
	  gotoxy(50,10); cin>>y[1];
	  gotoxy(50,12); cin>>y[2];
	  gotoxy(50,14); cin>>y[3];
	  gotoxy(50,16); cin>>y[4];
	  gotoxy(36,20); cout<<"CUANDO X ES: ";
	  gotoxy(40,21); cin>>k[1];
	  gotoxy(40,22); cin>>k[2];
	  gotoxy(40,23); cin>>k[3];
	  b=4;
	  clrscr();
	  for (a=0;a<=b;a++){
			  x2[a]=(x[a]*x[a]);
			  x3[a]=(x[a]*x[a]*x[a]);
			  x4[a]=(x[a]*x[a]*x[a]*x[a]);
			  x5[a]=(x[a]*x[a]*x[a]*x[a]*x[a]);
			  x6[a]=(x[a]*x[a]*x[a]*x[a]*x[a]*x[a]);
			  xy[a]=(x[a]*y[a]);
			  x2y[a]=(x2[a]*y[a]);
			  kx3y= kx3y+ (x3[a]*y[a]);
	  }
	  kx=x[1]+x[2]+x[3]+x[4];
	  kx2=x2[1]+x2[2]+x2[3]+x2[4];
	  kx3=x3[1]+x3[2]+x3[3]+x3[4];
	  kx4=x4[1]+x4[2]+x4[3]+x4[4];
	  kx5=x5[1]+x5[2]+x5[3]+x5[4];
	  kx6=x6[1]+x6[2]+x6[3]+x6[4];
	  ky=y[1]+y[2]+y[3]+y[4];
	  kxy=xy[1]+xy[2]+xy[3]+xy[4];
	  kx2y=x2y[1]+x2y[2]+x2y[3]+x2y[4];
	  gotoxy(8,10);cout<<"| "<<b<<"    "<<kx<<"   "<<kx2<<"   "<<kx3<<"  |"<<ky<<" |";
	  gotoxy(8,12);cout<<"| "<<kx<<"   "<<kx2<<"   "<<kx3<<"   "<<kx4<<"  |"<<kxy<<" |";
	  gotoxy(8,14);cout<<"|"<<kx2<<"   "<<kx3<<"  "<<kx4<<"   "<<kx5<<"  |"<<kx2y<<" |";
	  gotoxy(8,16);cout<<"|"<<kx3<<"   "<<kx4<<"  "<<kx5<<"  "<<kx6<<"  |"<<kx3y<<" |";
	  getch();
	  matriz41=kx3/kx6; matriz42=kx4/kx6;  matriz43=kx5/kx6;  matriz44=kx6/kx6; matriz45=kx3y/kx6;
	  kx5=kx5*-1; matriz31=(matriz41*kx5)+kx2; matriz32=(matriz42*kx5)+kx3; matriz33=(matriz43*kx5)+kx4;
	  matriz34=(matriz44*kx5)-kx5; matriz35=(matriz45*kx5)+kx2y;
	  kx4=kx4*-1; matriz21=(matriz41*kx4)+kx; matriz22=(matriz42*kx4)+kx2; matriz23=(matriz43*kx4)+kx3; matriz24=(matriz44*kx4)-kx4;
	  matriz25=(matriz45*kx4)+kxy; kx3=kx3*-1;
	  matriz11=(matriz41*kx3)+b; matriz12=(matriz42*kx3)+kx; matriz13=(matriz43*kx3)+kx2; matriz14=(matriz44*kx3)-kx3;
	  matriz15=(matriz45*kx3)+ky;
	  clrscr();
	  gotoxy(8,10);cout<<"|"<<matriz11<<"     "<<matriz12<<"    "<<matriz13<<"    "<<matriz14<<"   |"<<matriz15<<"  |";
	  gotoxy(8,12);cout<<"|"<<matriz21<<"     "<<matriz22<<"    "<<matriz23<<"    "<<matriz24<<"   |"<<matriz25<<"  |";
	  gotoxy(8,14);cout<<"|"<<matriz31<<"     "<<matriz32<<"    "<<matriz33<<"    "<<matriz34<<"   |"<<matriz35<<"  |";
	  gotoxy(8,16);cout<<"|"<<matriz41<<"     "<<matriz42<<"    "<<matriz43<<"    "<<matriz44<<"   |"<<matriz45<<"  |";
	  getch();
	  matriz12=matriz12/matriz11;  matriz13=matriz13/matriz11;  matriz14=matriz14/matriz11; matriz15=matriz15/matriz11; matriz11=matriz11/matriz11;
	  matriz21=matriz21*-1; matriz22=(matriz12*matriz21)+matriz22; matriz23=(matriz13*matriz21)+matriz23;
	  matriz24=(matriz14*matriz21)+matriz24; matriz25=(matriz15*matriz21)+matriz25; matriz21=(matriz11*matriz21)-matriz21; matriz31=matriz31*-1;
	  matriz32=(matriz12*matriz31)+ matriz32; matriz33=(matriz13*matriz31)+matriz33; matriz34=(matriz14*matriz31)+matriz34;
	  matriz35=(matriz15*matriz31)+matriz35; matriz31=(matriz11*matriz31)-matriz31; matriz41=matriz41*-1;
	  matriz42=(matriz12*matriz41)+matriz42; matriz43=(matriz13*matriz41)+matriz43; matriz44=(matriz14*matriz41)+matriz44;
	  matriz45=(matriz15*matriz41)+matriz45; matriz41=(matriz11*matriz41)-matriz41;
	  clrscr();
	  gotoxy(8,10);cout<<"| "<<matriz11<<"    "<<matriz12<<"   "<<matriz13<<"   "<<matriz14<<"  |"<<matriz15<<" |";
	  gotoxy(8,12);cout<<"| "<<matriz21<<"    "<<matriz22<<"   "<<matriz23<<"   "<<matriz24<<"  |"<<matriz25<<" |";
	  gotoxy(8,14);cout<<"| "<<matriz31<<"    "<<matriz32<<"   "<<matriz33<<"   "<<matriz34<<"  |"<<matriz35<<" |";
	  gotoxy(8,16);cout<<"| "<<matriz41<<"    "<<matriz42<<"   "<<matriz43<<"   "<<matriz44<<"  |"<<matriz45<<" |";
	  getch();
	  matriz31=matriz31/matriz33; matriz32=matriz32/matriz33;  matriz34=matriz34/matriz33;  matriz35=matriz35/matriz33; matriz33=matriz33/matriz33;
	  matriz43=matriz43*-1; matriz41=(matriz31*matriz43)+matriz41; matriz42=(matriz32*matriz43)+matriz42; matriz44=(matriz34*matriz43)+matriz44;
	  matriz45=(matriz35*matriz43)+matriz45; matriz43=(matriz33*matriz43)-matriz43;
	  matriz23=matriz23*-1; matriz21=(matriz31*matriz23)+matriz21; matriz22=(matriz32*matriz23)+matriz22; matriz24=(matriz34*matriz23)+matriz24;
	  matriz25=(matriz35*matriz23)+matriz25; matriz23=(matriz33*matriz23)-matriz23;
	  matriz13=matriz13*-1; matriz11=(matriz31*matriz13)+matriz11; matriz12=(matriz32*matriz13)+matriz12; matriz14=(matriz34*matriz13)+matriz14;
	  matriz15=(matriz35*matriz13)+matriz15; matriz13=(matriz33*matriz13)-matriz13;
	  clrscr();
	  gotoxy(8,10);cout<<"|"<<matriz11<<"     "<<matriz12<<"    "<<matriz13<<"    "<<matriz14<<"   |"<<matriz15<<"  |";
	  gotoxy(8,12);cout<<"|"<<matriz21<<"     "<<matriz22<<"    "<<matriz23<<"    "<<matriz24<<"   |"<<matriz25<<"  |";
	  gotoxy(8,14);cout<<"|"<<matriz31<<"     "<<matriz32<<"    "<<matriz33<<"    "<<matriz34<<"   |"<<matriz35<<"  |";
	  gotoxy(8,16);cout<<"|"<<matriz41<<"     "<<matriz42<<"    "<<matriz43<<"    "<<matriz44<<"   |"<<matriz45<<"  |";
	  getch();
	  matriz21=matriz21/matriz22; matriz23=matriz23/matriz22;  matriz24=matriz24/matriz22;  matriz25=matriz25/matriz22; matriz22=matriz22/matriz22;
	  matriz12=matriz12*-1; matriz11=(matriz21*matriz12)+matriz11; matriz13=(matriz23*matriz12)+matriz13; matriz14=(matriz24*matriz12)+matriz14;
	  matriz15=(matriz25*matriz12)+matriz15; matriz12=(matriz22*matriz12)-matriz12;
	  matriz32=matriz32*-1; matriz31=(matriz21*matriz32)+matriz31; matriz33=(matriz23*matriz32)+matriz33; matriz34=(matriz24*matriz32)+matriz34;
	  matriz35=(matriz25*matriz32)+matriz35; matriz32=(matriz22*matriz32)-matriz32;
	  matriz42=matriz42*-1; matriz41=(matriz21*matriz42)+matriz41; matriz43=(matriz23*matriz42)+matriz43; matriz44=(matriz24*matriz42)+matriz44;
	  matriz45=(matriz25*matriz42)+matriz45; matriz42=(matriz22*matriz42)-matriz42;
	  clrscr();
	  gotoxy(8,10);cout<<"|"<<matriz11<<"     "<<matriz12<<"    "<<matriz13<<"    "<<matriz14<<"   |"<<matriz15<<"  |";
	  gotoxy(8,12);cout<<"|"<<matriz21<<"     "<<matriz22<<"    "<<matriz23<<"    "<<matriz24<<"   |"<<matriz25<<"  |";
	  gotoxy(8,14);cout<<"|"<<matriz31<<"     "<<matriz32<<"    "<<matriz33<<"    "<<matriz34<<"   |"<<matriz35<<"  |";
	  gotoxy(8,16);cout<<"|"<<matriz41<<"     "<<matriz42<<"    "<<matriz43<<"    "<<matriz44<<"   |"<<matriz45<<"  |";
	  getch();  getch();
	  clrscr();
	  gotoxy(33,6);  cout<<"RESULTADOS";
	  gotoxy(25,10); cout<<"CUANDO X = ";
	  gotoxy(29,12); cout<<k[1];
	  fk[1]=matriz15+(matriz25*k[1])+(matriz35*k[1]*k[1])+(matriz45*k[1]*k[1]*k[1]);
	  gotoxy(47,10); cout<<"Fx = ";
	  gotoxy(45,12); cout<<fk[1];
	  gotoxy(29,14); cout<<k[2];
	  fk[2]=matriz15+(matriz25*k[2])+(matriz35*k[2]*k[2])+(matriz45*k[2]*k[2]*k[2]);
	  gotoxy(45,14); cout<<fk[2];
	  gotoxy(29,16); cout<<k[3];
	  fk[3]=matriz15+(matriz25*k[3])+(matriz35*k[3]*k[3])+(matriz45*k[3]*k[3]*k[3]);
	  gotoxy(45,16); cout<<fk[3];
	  getch();  getch();
}